import{S as fe,i as de,s as he,d as m,C as V,r as pe,D as P,R as z,E as A,J as G,f as U,g as v,I as M,l as q,W as me,T as _e,c as f,h as w,j as S,K,m as R,o as k,L as F,p as B,q as ge,O as be,U as ye,X as ve,P as we,Y as Z,u as ee,n as J,w as Q,b as W,k as X,t as Y,a as ke,Q as te,V as re}from"./index.b3ybtxVM.js";import{I as H,s as le,f as ne}from"./index.q06rdypm.js";import{e as oe}from"./each.WwmrMfcr.js";/* empty css                        */const xe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,{window:se}=xe;function ae(s,e,r){const t=s.slice();return t[22]=e[r],t}function Ee(s){let e,r=oe(s[1]),t=[];for(let l=0;l<r.length;l+=1)t[l]=ce(ae(s,r,l));return{c(){e=k("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=w(l,"UL",{class:!0});var a=S(e);for(let n=0;n<t.length;n+=1)t[n].l(a);a.forEach(m),this.h()},h(){f(e,"class","space-y-5")},m(l,a){U(l,e,a);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(l,a){if(a&2){r=oe(l[1]);let n;for(n=0;n<r.length;n+=1){const i=ae(l,r,n);t[n]?t[n].p(i,a):(t[n]=ce(i),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=r.length}},d(l){l&&m(e),ke(t,l)}}}function $e(s){let e,r="No posts matched your search.";return{c(){e=k("p"),e.textContent=r,this.h()},l(t){e=w(t,"P",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1o4b9dp"&&(e.textContent=r),this.h()},h(){f(e,"class","text-sm leading-6 text-secondary-text")},m(t,l){U(t,e,l)},p:J,d(t){t&&m(e)}}}function Se(s){let e,r;return{c(){e=k("p"),r=Y(s[3]),this.h()},l(t){e=w(t,"P",{class:!0});var l=S(e);r=X(l,s[3]),l.forEach(m),this.h()},h(){f(e,"class","text-sm leading-6 text-secondary-text")},m(t,l){U(t,e,l),v(e,r)},p(t,l){l&8&&W(r,t[3])},d(t){t&&m(e)}}}function Te(s){let e,r="Searchingâ€¦";return{c(){e=k("p"),e.textContent=r,this.h()},l(t){e=w(t,"P",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-126cgwm"&&(e.textContent=r),this.h()},h(){f(e,"class","text-sm leading-6 text-secondary-text")},m(t,l){U(t,e,l)},p:J,d(t){t&&m(e)}}}function Ce(s){let e,r="Start typing to find posts by title, summary, or body content.";return{c(){e=k("p"),e.textContent=r,this.h()},l(t){e=w(t,"P",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-yowey9"&&(e.textContent=r),this.h()},h(){f(e,"class","text-sm leading-6 text-secondary-text")},m(t,l){U(t,e,l)},p:J,d(t){t&&m(e)}}}function ie(s){let e,r=s[22].excerpt+"",t;return{c(){e=k("p"),t=Y(r),this.h()},l(l){e=w(l,"P",{class:!0});var a=S(e);t=X(a,r),a.forEach(m),this.h()},h(){f(e,"class","mt-2 text-sm leading-6 text-secondary-text")},m(l,a){U(l,e,a),v(e,t)},p(l,a){a&2&&r!==(r=l[22].excerpt+"")&&W(t,r)},d(l){l&&m(e)}}}function ce(s){let e,r,t,l=s[22].title+"",a,n,i,_,c=s[22].excerpt&&ie(s);return{c(){e=k("li"),r=k("a"),t=k("h3"),a=Y(l),n=B(),c&&c.c(),_=B(),this.h()},l(o){e=w(o,"LI",{});var p=S(e);r=w(p,"A",{href:!0,class:!0});var g=S(r);t=w(g,"H3",{class:!0});var T=S(t);a=X(T,l),T.forEach(m),n=R(g),c&&c.l(g),g.forEach(m),_=R(p),p.forEach(m),this.h()},h(){f(t,"class","text-lg font-semibold text-primary-text"),f(r,"href",i=s[22].url),f(r,"class","block rounded-2xl border border-transparent bg-transparent p-5 transition-colors duration-150 hover:border-border-ink/60 hover:bg-card-bg/80 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-text")},m(o,p){U(o,e,p),v(e,r),v(r,t),v(t,a),v(r,n),c&&c.m(r,null),v(e,_)},p(o,p){p&2&&l!==(l=o[22].title+"")&&W(a,l),o[22].excerpt?c?c.p(o,p):(c=ie(o),c.c(),c.m(r,null)):c&&(c.d(1),c=null),p&2&&i!==(i=o[22].url)&&f(r,"href",i)},d(o){o&&m(e),c&&c.d()}}}function De(s){let e,r,t,l,a,n,i,_,c,o,p,g,T,y,E,d,b,x;l=new H({props:{icon:"tabler:x",class:"h-5 w-5"}}),_=new H({props:{icon:"tabler:search",class:"h-5 w-5 text-secondary-text"}});function I(h,D){return D&1&&(T=null),T==null&&(T=!h[0].trim()),T?Ce:h[2]?Te:h[3]?Se:h[1].length===0?$e:Ee}let O=I(s,-1),C=O(s);return{c(){e=k("div"),r=k("div"),t=k("button"),F(l.$$.fragment),a=B(),n=k("form"),i=k("label"),F(_.$$.fragment),c=B(),o=k("input"),p=B(),g=k("div"),C.c(),this.h()},l(h){e=w(h,"DIV",{class:!0});var D=S(e);r=w(D,"DIV",{class:!0,role:!0,"aria-modal":!0,"aria-label":!0});var L=S(r);t=w(L,"BUTTON",{class:!0,type:!0,"aria-label":!0});var u=S(t);K(l.$$.fragment,u),u.forEach(m),a=R(L),n=w(L,"FORM",{class:!0});var $=S(n);i=w($,"LABEL",{class:!0});var j=S(i);K(_.$$.fragment,j),c=R(j),o=w(j,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),j.forEach(m),$.forEach(m),p=R(L),g=w(L,"DIV",{class:!0});var N=S(g);C.l(N),N.forEach(m),L.forEach(m),D.forEach(m),this.h()},h(){f(t,"class","absolute right-4 top-4 flex h-10 w-10 items-center justify-center rounded-full border border-border-ink/80 bg-card-bg text-primary-text transition-colors duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-text"),f(t,"type","button"),f(t,"aria-label","Close search"),f(o,"class","w-full border-0 bg-transparent text-base text-primary-text placeholder:text-secondary-text focus:outline-none"),f(o,"type","search"),f(o,"placeholder","Search posts"),o.value=s[0],f(o,"autocomplete","off"),f(i,"class","flex items-center gap-3"),f(n,"class","border-b border-border-ink/70 bg-card-bg/40 px-6 py-5"),f(g,"class","max-h-[60vh] overflow-y-auto px-6 py-6"),f(r,"class","relative mx-4 w-full max-w-2xl overflow-hidden rounded-3xl border border-border-ink/80 bg-page-bg text-primary-text shadow-xl"),f(r,"role","dialog"),f(r,"aria-modal","true"),f(r,"aria-label","Search posts"),f(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-overlay/60 backdrop-blur svelte-17n3jmd")},m(h,D){U(h,e,D),v(e,r),v(r,t),M(l,t,null),v(r,a),v(r,n),v(n,i),M(_,i,null),v(i,c),v(i,o),s[12](o),v(r,p),v(r,g),C.m(g,null),s[13](r),d=!0,b||(x=[q(se,"focusin",s[7]),q(se,"pointerdown",s[9]),q(t,"click",s[6]),q(o,"input",s[8]),q(n,"submit",me(s[11])),q(r,"click",_e(s[10]))],b=!0)},p(h,[D]){(!d||D&1&&o.value!==h[0])&&(o.value=h[0]),O===(O=I(h,D))&&C?C.p(h,D):(C.d(1),C=O(h),C&&(C.c(),C.m(g,null)))},i(h){d||(A(l.$$.fragment,h),A(_.$$.fragment,h),h&&G(()=>{d&&(y||(y=z(r,le,{start:.95,duration:150},!0)),y.run(1))}),h&&G(()=>{d&&(E||(E=z(e,ne,{duration:150},!0)),E.run(1))}),d=!0)},o(h){P(l.$$.fragment,h),P(_.$$.fragment,h),h&&(y||(y=z(r,le,{start:.95,duration:150},!1)),y.run(0)),h&&(E||(E=z(e,ne,{duration:150},!1)),E.run(0)),d=!1},d(h){h&&m(e),V(l),V(_),s[12](null),C.d(),s[13](null),h&&y&&y.end(),h&&E&&E.end(),b=!1,pe(x)}}}function Ie(s,e,r){const t=ge();let l="",a=[],n=!1,i="",_=null,c=null,o=null,p=[],g=null,T=null;const y=()=>{t("close")},E=()=>{if(!c){p=[];return}const u=["a[href]","button:not([disabled])","input:not([disabled])","textarea:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];p=Array.from(c.querySelectorAll(u.join(","))).filter($=>!$.hasAttribute("aria-hidden"))},d=u=>{if(c){if(u.key==="Escape"){u.preventDefault(),y();return}if(u.key==="Tab"){if(E(),p.length===0){u.preventDefault();return}const $=p[0],j=p[p.length-1],N=document.activeElement;u.shiftKey?(!N||N===$)&&(u.preventDefault(),j.focus()):N===j&&(u.preventDefault(),$.focus())}}},b=async u=>{if(o&&o.abort(),!u){r(1,a=[]),r(2,n=!1),r(3,i="");return}o=new AbortController,r(2,n=!0),r(3,i="");try{const $=await fetch(`/api/posts.json?q=${encodeURIComponent(u)}`,{signal:o.signal,headers:{Accept:"application/json"}});if(!$.ok)throw new Error("Request failed");const j=await $.json();r(1,a=Array.isArray(j?.results)?j.results:[])}catch($){if($ instanceof DOMException&&$.name==="AbortError")return;r(3,i="Unable to fetch search results right now. Please try again soon.")}finally{o?.signal.aborted||r(2,n=!1),o=null}},x=u=>{if(g&&clearTimeout(g),!u.trim()){o&&(o.abort(),o=null),r(0,l=u),r(1,a=[]),r(3,i=""),r(2,n=!1);return}g=setTimeout(()=>{b(u.trim())},250)},I=u=>{const $=u.target;r(0,l=$.value),x(l)},O=u=>{c&&!c.contains(u.target)&&y()};be(async()=>{T=document.body.style.overflow,document.body.style.overflow="hidden",window.addEventListener("keydown",d),await ye(),E(),_?.focus()}),ve(()=>{E()}),we(()=>{window.removeEventListener("keydown",d),o&&o.abort(),g&&clearTimeout(g),T!==null?document.body.style.overflow=T:document.body.style.removeProperty("overflow")});function C(u){Z.call(this,s,u)}function h(u){Z.call(this,s,u)}function D(u){ee[u?"unshift":"push"](()=>{_=u,r(4,_)})}function L(u){ee[u?"unshift":"push"](()=>{c=u,r(5,c)})}return[l,a,n,i,_,c,y,E,I,O,C,h,D,L]}class Ae extends fe{constructor(e){super(),de(this,e,Ie,De,he,{})}}function je(s){let e,r;return e=new H({props:{icon:"solar:moon-bold",class:"h-5 w-5"}}),{c(){F(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){M(e,t,l),r=!0},i(t){r||(A(e.$$.fragment,t),r=!0)},o(t){P(e.$$.fragment,t),r=!1},d(t){V(e,t)}}}function Pe(s){let e,r;return e=new H({props:{icon:"solar:sun-2-bold",class:"h-5 w-5"}}),{c(){F(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){M(e,t,l),r=!0},i(t){r||(A(e.$$.fragment,t),r=!0)},o(t){P(e.$$.fragment,t),r=!1},d(t){V(e,t)}}}function ue(s){let e,r;return e=new Ae({}),e.$on("close",s[4]),{c(){F(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,l){M(e,t,l),r=!0},p:J,i(t){r||(A(e.$$.fragment,t),r=!0)},o(t){P(e.$$.fragment,t),r=!1},d(t){V(e,t)}}}function Oe(s){let e,r,t,l,a,n,i,_,c,o,p,g;t=new H({props:{icon:"tabler:search",class:"h-5 w-5"}});const T=[Pe,je],y=[];function E(b,x){return b[0]==="light"?0:1}n=E(s),i=y[n]=T[n](s);let d=s[1]&&ue(s);return{c(){e=k("div"),r=k("button"),F(t.$$.fragment),l=B(),a=k("button"),i.c(),c=B(),d&&d.c(),this.h()},l(b){e=w(b,"DIV",{class:!0});var x=S(e);r=w(x,"BUTTON",{class:!0,"aria-label":!0,type:!0});var I=S(r);K(t.$$.fragment,I),I.forEach(m),l=R(x),a=w(x,"BUTTON",{class:!0,"aria-label":!0,type:!0});var O=S(a);i.l(O),O.forEach(m),c=R(x),d&&d.l(x),x.forEach(m),this.h()},h(){f(r,"class","flex h-10 w-10 items-center justify-center rounded-full border border-border-ink/80 bg-card-bg text-primary-text transition-colors duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-text"),f(r,"aria-label","Open search"),f(r,"type","button"),f(a,"class","flex h-10 w-10 items-center justify-center rounded-full border border-border-ink/80 bg-card-bg text-primary-text transition-colors duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-text"),f(a,"aria-label",_=`Activate ${s[0]==="light"?"dark":"light"} mode`),f(a,"type","button"),f(e,"class","flex items-center gap-3")},m(b,x){U(b,e,x),v(e,r),M(t,r,null),v(e,l),v(e,a),y[n].m(a,null),v(e,c),d&&d.m(e,null),o=!0,p||(g=[q(r,"click",s[3]),q(a,"click",s[2])],p=!0)},p(b,[x]){let I=n;n=E(b),n!==I&&(re(),P(y[I],1,1,()=>{y[I]=null}),te(),i=y[n],i||(i=y[n]=T[n](b),i.c()),A(i,1),i.m(a,null)),(!o||x&1&&_!==(_=`Activate ${b[0]==="light"?"dark":"light"} mode`))&&f(a,"aria-label",_),b[1]?d?(d.p(b,x),x&2&&A(d,1)):(d=ue(b),d.c(),A(d,1),d.m(e,null)):d&&(re(),P(d,1,1,()=>{d=null}),te())},i(b){o||(A(t.$$.fragment,b),A(i),A(d),o=!0)},o(b){P(t.$$.fragment,b),P(i),P(d),o=!1},d(b){b&&m(e),V(t),y[n].d(),d&&d.d(),p=!1,pe(g)}}}function Ue(s,e,r){let t="light",l=!1;const a=o=>{r(0,t=o);try{window.localStorage.setItem("theme",o)}catch{}document.documentElement.setAttribute("data-theme",o)},n=()=>{try{const o=window.localStorage.getItem("theme");if(o==="light"||o==="dark"){a(o);return}const p=window.matchMedia("(prefers-color-scheme: dark)").matches;a(p?"dark":"light")}catch{a("light")}},i=()=>{a(t==="light"?"dark":"light")};return be(()=>{n()}),[t,l,i,()=>{r(1,l=!0)},()=>{r(1,l=!1)}]}class Ne extends fe{constructor(e){super(),de(this,e,Ue,Oe,he,{})}}export{Ne as default};
