/* Global primitives */
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@300;400;500;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --radius: 3px; /* <- raio padrão do site */
    --primary-bg: 244 240 232;
    --surface-bg: 250 247 239;
    --card-bg: 255 253 247;
    --border-ink: 209 198 183;
    --primary-text: 30 25 21;
    --secondary-text: 82 72 63;
    --muted-text: 128 118 109;
    --nav-speed: 200ms;
    --nav-ease: cubic-bezier(0.2, 0.8, 0.2, 1);
    color-scheme: light;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --primary-bg: 16 15 14;
      --surface-bg: 24 22 21;
      --card-bg: 28 27 26;
      --border-ink: 78 73 68;
      --primary-text: 240 236 230;
      --secondary-text: 208 202 195;
      --muted-text: 166 160 153;
      color-scheme: dark;
    }
  }

  [data-theme="dark"] {
    --primary-bg: 16 15 14;
    --surface-bg: 24 22 21;
    --card-bg: 28 27 26;
    --border-ink: 78 73 68;
    --primary-text: 240 236 230;
    --secondary-text: 208 202 195;
    --muted-text: 166 160 153;
    color-scheme: dark;
  }

  [data-theme="light"] {
    --primary-bg: 244 240 232;
    --surface-bg: 250 247 239;
    --card-bg: 255 253 247;
    --border-ink: 209 198 183;
    --primary-text: 30 25 21;
    --secondary-text: 82 72 63;
    --muted-text: 128 118 109;
    color-scheme: light;
  }

  *,
  *::before,
  *::after { box-sizing: border-box; }

  body {
    @apply bg-primary-bg text-primary-text font-body antialiased;
    margin: 0;
    min-height: 100vh;
    line-height: 1.6;
    transition: background-color var(--nav-speed) var(--nav-ease),
                color var(--nav-speed) var(--nav-ease);
  }

  main { background-color: transparent; }

  a { color: inherit; }
  a:hover, a:focus { color: rgb(var(--secondary-text)); }

  h1,h2,h3,h4,h5,h6 {
    font-family: "Source Sans 3", "Source Sans Pro", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    font-weight: 700;
    letter-spacing: 0;
  }

  ::selection { background: rgba(82, 72, 63, 0.2); }

  img { max-width: 100%; display: block; }

  code { font-family: "Fira Code","SFMono-Regular",Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace; }

  pre {
    background: rgb(var(--surface-bg));
    border: 1px solid rgb(var(--border-ink));
    border-radius: var(--radius);
    padding: 1.5rem;
    overflow-x: auto;
  }

  /* --- Força cantos 0.5rem em todo lugar (sem afetar rounded-full) --- */
  :where(
    .rounded, .rounded-sm, .rounded-md, .rounded-lg, .rounded-xl, .rounded-2xl, .rounded-3xl,
    [class*="rounded-"]:not(.rounded-full)
  ) { border-radius: var(--radius) !important; }
}

/* ===== Components layer: tokens e utils do header ==================== */
@layer components {
  .nav-link {
    transition-property: color, border-color;
    transition-duration: var(--nav-speed);
    transition-timing-function: var(--nav-ease);
    border-bottom-width: 1px;
    border-color: transparent;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  .nav-transition {
    transition-duration: var(--nav-speed);
    transition-timing-function: var(--nav-ease);
  }

  .ui-transition {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-duration: var(--nav-speed);
    transition-timing-function: var(--nav-ease);
  }

  .ui-focus { @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-text; }

}

@layer utilities {
  /* Force all Tailwind rounded classes to our --radius */
  :where(
    .rounded,
    .rounded-sm,
    .rounded-md,
    .rounded-lg,
    .rounded-xl,
    .rounded-2xl,
    .rounded-3xl,
    .rounded-full,
    [class*="rounded-"]
  ) {
    border-radius: var(--radius) !important;
  }
  
}